<ngx-spinner></ngx-spinner>
<section id="image">
  <div class="container">
    <div class="row justify-content-center">
      <div class="row full-height-vh m-0">
      <div class="col-md-12">
        <div class="card">
          <div class="card-body">
            <h2 class="text-center mb-4">Registration Form</h2>
            <form #registerForm="ngForm" class="form" novalidate>
              <div class="form-body">
                <div class="row">
                  <div class="col-md-6">
                <div class="form-group">
                  <label class="form-control-label" for="username">
                    <span *ngIf="user.username == undefined || user.username == ''" style="color: red">*</span>
                    Name
                  </label>
                  <span class="text-muted danger" *ngIf="!username.valid && (username.dirty || username.touched)">
                    is required!
                  </span>
                  <input type="text" id="username" class="form-control" name="username" [(ngModel)]="user.username"
                    ngModel #username="ngModel" required />
                </div>
              </div>
              <div class="col-md-6">
                 <div class="form-group">
                      <label class="form-control-label" for="email">
                        <span *ngIf="user.email == undefined || user.email =='' "
                          style="color: red">*</span>Email ID</label>
                      <span class=" text-muted danger"
                        *ngIf="!email.valid && (email.dirty || email.touched)">
                        is required!
                      </span>
                      <input type="email" id="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,63}$" class="form-control border-primary" name="email"
                        [(ngModel)]="user.email" ngModel #email="ngModel" required>
                   </div>
                  </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6">
                   <div class="form-group">
                    <label class="form-control-label" for="phoneNumber">
                      <span *ngIf="user.phoneNumber == undefined || user.phoneNumber =='' " style="color: red">*</span>
                      
                      Phone Number</label>
                      
                    <span class=" text-muted danger"
                      *ngIf="!phoneNumber.valid && (phoneNumber.dirty || phoneNumber.touched)">
                      <span *ngIf="phoneNumber.errors.required">is required!</span>
                      <span *ngIf="phoneNumber.errors.pattern"> PhoneNo must be 10 digits</span>
                    </span>
                                            
                    <input type="tel"  id="phoneNumber" class="form-control border-primary" name="phoneNumber"
                     [(ngModel)]="user.phoneNumber" ngModel #phoneNumber="ngModel" pattern="[0-9]{10}" maxlength="10" required>

                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label class="form-control-label" for="organization">
                      <span *ngIf="user.organization == undefined || user.organization == ''" style="color: red">*</span>
                     Organization
                    </label>
                    <span class="text-muted danger" *ngIf="!organization.valid && (organization.dirty || organization.touched)">
                      is required!
                    </span>
                    <input type="text" id="organization" class="form-control" name="organization" [(ngModel)]="user.organization"
                      ngModel #organization="ngModel" required />
                  </div>
                </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                <div class="form-group">
                  <label class="form-control-label" for="password">
                    <span *ngIf="user.password == undefined || user.password == ''" style="color: red">*</span>
                    Password
                  </label>
                  <span class="text-muted danger" *ngIf="!password.valid && (password.dirty || password.touched)">
                    is required!
                  </span>
                  <input type="password" id="password" class="form-control" name="password" [(ngModel)]="user.password"
                    ngModel #password="ngModel" required />
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label for="stateSelect">State</label>
                  <select required [(ngModel)]="user.state" (change)="onCitiesSelected($event.target.value)" id="state" name="user.state" class="form-control border-primary">
                    <option>Select State</option>
                    <option *ngFor="let state of states" [value]="state.name">
                      {{ state.name }}
                    </option>
                  </select>
                </div>
              </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                <div class="form-group">
                  <label for="citySelect">City</label>
                  <select required [(ngModel)]="user.city" id="city" name="city"
                    class="form-control border-primary">
                    <option>Select City</option>
                    <option [ngValue]="city.name" *ngFor="let city of citys">
                      {{city.name}} </option>
                  </select>
                </div>
              </div>
            </div>
            </div>
              <div class="form-actions center">
                <button type="button" class="btn btn-raised btn-primary mr-1" (click)="onSaveConfirm()"
                  routerLink="/pages/login" [disabled]="!registerForm.valid">
                  <i class="fa fa-check-square-o"></i> Register
                </button>
                <button type="button" class="btn btn-raised btn-warning mr-1" routerLink="/pages/login">
                  <i class="ft-x"></i> Login
                </button>

              </div>
            </form>
          </div>
        </div>
      </div>
      </div>
    </div>
  </div>
</section>
